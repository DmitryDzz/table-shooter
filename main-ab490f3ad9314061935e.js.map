{"version":3,"file":"main-ab490f3ad9314061935e.js","mappings":"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AW;YACZ,MAAM,cAAc,CAAC,eAAe,EAAE,CAAC;YACvC,MAAM;QACV,KAAK,SAAS;YACV,MAAM,UAAU,GAAe,EAAE,CAAC,IAAI,CAAC;YACvC,IAAI,cAAc,CAAC,YAAY,KAAK,IAAI,EAAE;gBACtC,cAAc,CAAC,YAAY,CAAC,eAAe,CAAC,UAAU,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;aACzE;YACD,MAAM;KACb;AACL,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;UCrCD;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;;;;WClCA;WACA;WACA;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA,kBAAkB,qBAAqB;WACvC;WACA;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WC3BA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,EAAE;WACF;;;;;WCRA;WACA;WACA;WACA;WACA;;;;;WCJA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA,CAAC;;;;;WCPD;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WCfA;;WAEA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,aAAa;WACb;WACA;WACA;WACA;;WAEA;WACA;WACA;;WAEA;;WAEA;;;;;WCpCA;WACA;WACA;WACA;;;;;UEHA;UACA","sources":["webpack://shooter/./src/babylon/ArcRotateCameraWorkerInput.ts","webpack://shooter/./src/babylon/appInitializer.ts","webpack://shooter/./src/babylon/env.ts","webpack://shooter/./src/babylon/gameScene.ts","webpack://shooter/./src/babylon/level1.ts","webpack://shooter/./src/babylon/level2.ts","webpack://shooter/./src/babylon/math.ts","webpack://shooter/./src/babylon/player.ts","webpack://shooter/./src/babylon/sceneSwitcher.ts","webpack://shooter/./src/worker.ts","webpack://shooter/webpack/bootstrap","webpack://shooter/webpack/runtime/chunk loaded","webpack://shooter/webpack/runtime/define property getters","webpack://shooter/webpack/runtime/ensure chunk","webpack://shooter/webpack/runtime/get javascript chunk filename","webpack://shooter/webpack/runtime/global","webpack://shooter/webpack/runtime/hasOwnProperty shorthand","webpack://shooter/webpack/runtime/make namespace object","webpack://shooter/webpack/runtime/publicPath","webpack://shooter/webpack/runtime/importScripts chunk loading","webpack://shooter/webpack/runtime/startup chunk dependencies","webpack://shooter/webpack/before-startup","webpack://shooter/webpack/startup","webpack://shooter/webpack/after-startup"],"sourcesContent":["import {ICameraInput} from \"@babylonjs/core/Cameras/cameraInputsManager\";\nimport {ArcRotateCamera, Engine, Nullable} from \"@babylonjs/core\";\n\nexport interface CameraRotationSpeedFactors {\n    /** 0..1 value. */\n    alpha: number;\n    /** 0..1 value. */\n    beta: number;\n}\n\nexport class ArcRotateCameraWorkerInput implements ICameraInput<ArcRotateCamera> {\n    private static readonly _epsilon = 0.2;\n    private static readonly _minBeta = Math.PI / 18; // 10 degrees\n    private static readonly _maxBeta = Math.PI * 99 / 199; // almost PI/2\n\n    private readonly _maxAlphaSpeed: number;\n    private readonly _maxBetaSpeed: number;\n\n    private _engine: Nullable<Engine> = null;\n\n    cameraRotationSpeedFactors: CameraRotationSpeedFactors = {alpha: 0, beta: 0};\n\n    camera: Nullable<ArcRotateCamera>;\n\n    /**\n     * Constructor.\n     * @param maxAlphaSpeed radians per second.\n     * @param maxBetaSpeed radians per second.\n     */\n    constructor(maxAlphaSpeed: number, maxBetaSpeed: number) {\n        this._maxAlphaSpeed = maxAlphaSpeed;\n        this._maxBetaSpeed = maxBetaSpeed;\n    }\n\n    attachControl(noPreventDefault?: boolean): void {\n        this._engine = this.camera.getEngine();\n    }\n\n    detachControl(): void {\n        this._engine = null;\n    }\n\n    getClassName(): string {\n        return \"ArcRotateCameraWorkerInput\";\n    }\n\n    getSimpleName(): string {\n        return \"worker\";\n    }\n\n    checkInputs(): void {\n        if (this._engine === null) return;\n        const factors = this.cameraRotationSpeedFactors;\n        const deltaTime = this._engine.getDeltaTime() / 1000.0;\n\n        const speedAlpha = Math.abs(factors.alpha) < ArcRotateCameraWorkerInput._epsilon\n            ? 0\n            : this._maxAlphaSpeed * factors.alpha;\n        this.camera.alpha += speedAlpha * deltaTime;\n\n        const speedBeta = Math.abs(factors.beta) < ArcRotateCameraWorkerInput._epsilon\n            ? 0\n            : this._maxBetaSpeed * factors.beta;\n        const newBeta = this.camera.beta - speedBeta * deltaTime;\n        this.camera.beta = Math.min(Math.max(newBeta, ArcRotateCameraWorkerInput._minBeta), ArcRotateCameraWorkerInput._maxBeta);\n    }\n}","import {Engine} from \"@babylonjs/core\";\nimport {SceneSwitcher} from \"./sceneSwitcher\";\nimport {GameScene} from \"./gameScene\";\n\nexport class AppInitializer {\n    private _engine: Engine | undefined;\n    private _sceneSwitcher: SceneSwitcher | undefined;\n    private _canvas: HTMLCanvasElement | undefined;\n\n    init(canvas: HTMLCanvasElement) {\n        this._canvas = canvas;\n        this._engine = new Engine(this._canvas, true, {preserveDrawingBuffer: true, stencil: true});\n        this._sceneSwitcher = new SceneSwitcher(this._engine, this._canvas);\n\n        this._engine.runRenderLoop(() => {\n            this._sceneSwitcher.currentScene?.render();\n        });\n    }\n\n    resize(width: number, height: number) {\n        this._canvas.width = width;\n        this._canvas.height = height;\n        this._engine.resize();\n    }\n\n    async loadFirstSceneAsync() {\n        await this._sceneSwitcher.loadFirstSceneAsync();\n    }\n\n    async loadNextSceneAsync() {\n        await this._sceneSwitcher.loadNextSceneAsync();\n    }\n\n    async switchInspector() {\n        const scene = this._sceneSwitcher.currentScene;\n        if (scene.debugLayer.isVisible()) {\n            scene.debugLayer.hide();\n        } else {\n            await scene.debugLayer.show({\n                embedMode: false,\n                overlay: true,\n            });\n        }\n    }\n\n    get currentScene(): GameScene | null {\n        return this._sceneSwitcher.currentScene;\n    }\n}","export class Env {\n    static readonly meters2units = 0.02;\n    static readonly units2meters = 1 / Env.meters2units;\n\n    static camera = {\n        near: 0.2,\n        far: 10000,\n        position: { x: 0, y: 20, z: -30 },\n        defaultDirection: { x: 0, y: 0, z: 0 }\n    };\n}","import {\n    ArcRotateCamera,\n    CannonJSPlugin,\n    Engine,\n    HemisphericLight,\n    Scene,\n    SceneOptions, TransformNode,\n    Vector3\n} from \"@babylonjs/core\";\nimport {Env} from \"./env\";\nimport {createVector3} from \"./math\";\nimport {GamepadState} from \"../messages\";\nimport {ArcRotateCameraWorkerInput} from \"./ArcRotateCameraWorkerInput\";\n\nexport abstract class GameScene extends Scene {\n    public readonly rootNode: TransformNode;\n    public readonly cameraParentNode: TransformNode;\n    public readonly camera: ArcRotateCamera;\n    public readonly cameraInput: ArcRotateCameraWorkerInput;\n    public readonly light: HemisphericLight;\n\n    protected constructor(engine: Engine, canvas: HTMLCanvasElement, options?: SceneOptions) {\n        super(engine, options);\n\n        // Physics engine:\n        const gravity = createVector3({x: 0, y: -9.81, z: 0});\n        const physicsPlugin = new CannonJSPlugin();\n        this.enablePhysics(gravity, physicsPlugin);\n        // this.enablePhysics(gravity);\n\n        this.rootNode = new TransformNode(\"rootNode\", this);\n        this.rootNode.scaling = Vector3.One().scale(Env.meters2units);\n\n        this.cameraParentNode = new TransformNode(\"cameraParentNode\", this);\n        this.cameraParentNode.parent = this.rootNode;\n        this.cameraParentNode.position = Vector3.Zero();\n\n        const deg2rad = (deg: number): number => {return deg * Math.PI / 180};\n\n        this.camera = new ArcRotateCamera(\"camera\",deg2rad(-90), deg2rad(60), 36, Vector3.Zero(), this, true);\n        this.camera.parent = this.cameraParentNode;\n        this.camera.minZ = Env.camera.near;\n        this.camera.maxZ = Env.camera.far;\n        this.camera.setTarget(createVector3(Env.camera.defaultDirection)\n            .add(createVector3({x: 0, y: 0, z: 1})));\n        this.camera.attachControl(canvas);\n\n        this.camera.inputs.clear();\n        this.cameraInput = new ArcRotateCameraWorkerInput(2, 2);\n        this.camera.inputs.add(this.cameraInput);\n        this.camera.attachControl(\"ArcRotateCameraWorkerInput\");\n\n        this.light = new HemisphericLight('light', new Vector3(0, 1, 0), this);\n\n        // 3D Environment\n        const environment = this.createDefaultEnvironment({\n            enableGroundShadow: false,\n            // groundYBias: 0.01,\n            createGround: true,\n            groundSize: 0.0001,\n            groundOpacity: 0,\n            setupImageProcessing: false,\n            createSkybox: false,\n        });\n        if (!environment) {\n            throw new Error(\"Cannot create environment\");\n        }\n    }\n\n    abstract initializeAsync(): Promise<void>;\n\n    abstract setGamepadState(state: GamepadState): void;\n}","import {\n    AbstractMesh,\n    Engine,\n    PhysicsImpostor,\n    SceneLoader,\n    SceneOptions,\n    TransformNode,\n    Vector3\n} from \"@babylonjs/core\";\nimport {GameScene} from \"./gameScene\";\nimport {createVector3} from \"./math\";\nimport {ISceneLoaderAsyncResult} from \"@babylonjs/core/Loading/sceneLoader\";\nimport {Player} from \"./player\";\n\nimport \"@babylonjs/loaders/glTF\";\nimport environmentGLB from \"../../public/assets/environment.glb\";\nimport {GamepadState} from \"../messages\";\n\nexport class Level1 extends GameScene {\n    private _player?: Player = undefined;\n\n    constructor(engine: Engine, canvas: HTMLCanvasElement, options?: SceneOptions) {\n        super(engine, canvas, options);\n    }\n\n    async initializeAsync(): Promise<void> {\n        const loadedAsset: ISceneLoaderAsyncResult =\n            await SceneLoader.ImportMeshAsync(null, \"\", environmentGLB, this);\n            // await SceneLoader.ImportMeshAsync(null, \"./assets/\", \"environment.glb\", this);\n        for (let mesh of loadedAsset.meshes) {\n            mesh.parent = this.rootNode;\n        }\n\n        const ground: AbstractMesh = loadedAsset.meshes.find(x => x.name === \"Ground\");\n        ground.position = createVector3({x: 0, y: 0, z: 0});\n\n\n        const homeYard: TransformNode = new TransformNode(\"HomeYard\", this);\n        homeYard.parent = this.rootNode; //TODO DZZ DELETE?\n        homeYard.position = createVector3({x: -8, y: 0, z: 0});\n        homeYard.rotate(Vector3.Up(), Math.PI / 4 * 3);\n\n        const house: AbstractMesh = loadedAsset.meshes.find(x => x.name === \"House\");\n        house.parent = homeYard;\n        house.position = createVector3({x: 0, y: 0, z: 0});\n\n        const fence: AbstractMesh = loadedAsset.meshes.find(x => x.name === \"Fence\");\n        fence.parent = homeYard;\n        fence.position = createVector3({x: 5, y: 0, z: -7});\n        fence.rotate(Vector3.Up(), Math.PI);\n\n        for (let i = 1; i <= 9; i++) {\n            const f = fence.clone(`FenceA${i}`, fence.parent);\n            f.position = createVector3({x: fence.position.x - i, y: fence.position.y, z: fence.position.z});\n        }\n        for (let i = 1; i <= 14; i++) {\n            const f = fence.clone(`FenceB${i}`, fence.parent);\n            f.rotate(Vector3.Up(), Math.PI / 2);\n            f.position = createVector3({x: fence.position.x - 10, y: fence.position.y, z: fence.position.z - 1 + i});\n        }\n        for (let i = 1; i <= 10; i++) {\n            const f = fence.clone(`FenceC${i}`, fence.parent);\n            f.rotate(Vector3.Up(), Math.PI);\n            f.position = createVector3({x: fence.position.x - 11 + i, y: fence.position.y, z: fence.position.z + 14});\n        }\n        for (let i = 1; i <= 14; i++) {\n            const f = fence.clone(`FenceD${i}`, fence.parent);\n            f.rotate(Vector3.Up(), -Math.PI / 2);\n            f.position = createVector3({x: fence.position.x, y: fence.position.y, z: fence.position.z + 15 - i});\n        }\n\n\n        const barn: AbstractMesh = loadedAsset.meshes.find(x => x.name === \"Barn\");\n        barn.position = createVector3({x: 10, y: 0, z: 0});\n        barn.rotate(Vector3.Up(), -Math.PI / 4 * 3);\n\n\n        const streetlight: AbstractMesh = loadedAsset.meshes.find(x => x.name === \"Streetlight\");\n        streetlight.position = createVector3({x: 1, y: 0, z: -3});\n        streetlight.rotate(Vector3.Up(), Math.PI);\n\n\n\n        // Physics:\n        for (let mesh of loadedAsset.meshes) {\n            this._getRidOfParentNodes(mesh);\n        }\n        ground.physicsImpostor = new PhysicsImpostor(ground, PhysicsImpostor.BoxImpostor,\n            {mass: 0, restitution: 0}, this);\n\n\n        this._player = new Player(this);\n        await this._player.initializeAsync();\n        this._player.position = this._player.position.add(new Vector3(-12, 0, 0));\n    }\n\n    private _getRidOfParentNodes(mesh: AbstractMesh) {\n        const worldMatrix = mesh.computeWorldMatrix(true).clone();\n        mesh.parent = null;\n        mesh.freezeWorldMatrix(worldMatrix, true);\n        mesh.unfreezeWorldMatrix();\n    }\n\n    setGamepadState(state: GamepadState) {\n        this.cameraInput.cameraRotationSpeedFactors = {\n            alpha: state.bumperPressed ? state.lookVector.x : 0,\n            beta: state.bumperPressed ? state.lookVector.z : 0,\n        }\n        const cameraDirection = this.camera.getDirection(Vector3.Forward());\n        this._player?.setGamepadState(state, cameraDirection);\n    }\n}","import {\n    Engine, Mesh,\n    MeshBuilder,\n    SceneOptions,\n} from \"@babylonjs/core\";\nimport {GameScene} from \"./gameScene\";\nimport {createVector3} from \"./math\";\nimport {GamepadState} from \"../messages\";\n\nexport class Level2 extends GameScene {\n\n    constructor(engine: Engine, canvas: HTMLCanvasElement, options?: SceneOptions) {\n        super(engine, canvas, options);\n        const box: Mesh = MeshBuilder.CreateBox(\"box\", { size: 1 }, this);\n        box.position = createVector3({x: 0, y: 0, z: 2});\n    }\n\n    async initializeAsync(): Promise<void> {\n    }\n\n    setGamepadState(_state: GamepadState): void {\n    }\n}","import { Vector3 } from \"@babylonjs/core/Maths/math.vector\";\n\nexport const createVector3 = (vector: { x: number, y: number, z: number }): Vector3 => {\n    const {x, y, z} = vector;\n    return new Vector3(x, y, z);\n}","import {AbstractMesh, PhysicsImpostor, Quaternion, SceneLoader, Vector3} from \"@babylonjs/core\";\nimport {GameScene} from \"./gameScene\";\nimport {createVector3} from \"./math\";\nimport {ISceneLoaderAsyncResult} from \"@babylonjs/core/Loading/sceneLoader\";\nimport {GamepadState, Vector} from \"../messages\";\nimport playerGLB from \"../../public/assets/player.glb\";\nimport {Env} from \"./env\";\n\nexport class Player {\n    private readonly _scene: GameScene;\n    private _mesh: AbstractMesh;\n\n    private _scaling = Env.meters2units;\n    private _position: Vector3 = createVector3({x: 0, y: 8.25, z: -10});\n\n    constructor(scene: GameScene) {\n        this._scene = scene;\n    }\n\n    async initializeAsync(): Promise<void> {\n        const loadedAsset: ISceneLoaderAsyncResult =\n            await SceneLoader.ImportMeshAsync(null, \"\", playerGLB, this._scene);\n\n        const position = this._position;\n        const mass = 1;\n        loadedAsset.meshes.forEach(m => {\n            m.isVisible = m.name.indexOf(\"collider\") === -1;\n            if (m.name === \"feet-collider\") {\n                this._mesh = m;\n                m.name = \"player\";\n                m.parent = null;\n                m.position = position.scale(this._scaling);\n                m.scaling.scaleInPlace(this._scaling);\n                m.physicsImpostor = new PhysicsImpostor(m, PhysicsImpostor.BoxImpostor, { mass, friction: 0 }, this._scene);\n\n                // const inputBehavior = new InputBehavior(this._scene, m.physicsImpostor);\n                // m.addBehavior(inputBehavior, true);\n\n                // const gamepadBehavior = new GamepadBehavior(this._scene, m.physicsImpostor);\n                // m.addBehavior(gamepadBehavior, true);\n            } else if (m.name === \"body-collider\") {\n                //TODO DZZ Если раскомментарить, то при падении меш покачивается. Может поиграть опциями?\n                //m.physicsImpostor = new PhysicsImpostor(m, PhysicsImpostor.NoImpostor, { mass: 0 }, this._scene);\n            }\n        });\n    }\n\n    get position(): Vector3 {\n        return this._position;\n    }\n\n    set position(value: Vector3) {\n        this._position = value.clone();\n        this._mesh.position = this._position.scale(this._scaling);\n    }\n\n    private _lengthSquared(v: Vector): number {\n        return v.x * v.x + v.y * v.y + v.z * v.z;\n    }\n\n    setGamepadState({moveVector, lookVector, bumperPressed}: GamepadState, cameraDirection: Vector3) {\n        if (this._mesh?.physicsImpostor === undefined) return;\n\n        cameraDirection.y = 0;\n        cameraDirection.normalize();\n        const cameraQuaternion = Quaternion.FromLookDirectionLH(cameraDirection, Vector3.Up());\n        // console.log(`++++ x: ${cameraDirection.x.toFixed(2)}, y: ${cameraDirection.y.toFixed(2)}, z: ${cameraDirection.z.toFixed(2)}`); //TODO DZZ\n\n        const mv = createVector3({x: moveVector.x, y: moveVector.y, z: moveVector.z});\n        const lv = createVector3({x: lookVector.x, y: lookVector.y, z: lookVector.z});\n\n        const isMoving = this._lengthSquared(mv) > 0.01;\n        const isFacing = !bumperPressed && this._lengthSquared(lv) > 0.01;\n        let faceVector: Vector3 | null = null;\n        if (isFacing) faceVector = lv.clone();\n        else if (isMoving) faceVector = mv.clone();\n        if (faceVector !== null) {\n            const faceQuaternion = Quaternion.FromLookDirectionLH(faceVector, Vector3.Up());\n            // const toQuaternion = faceQuaternion.clone();\n            const toQuaternion = cameraQuaternion.multiply(faceQuaternion);\n            // const toQuaternion = faceQuaternion.multiply(cameraQuaternion);\n            const speed = 0.01;\n            this._mesh.rotationQuaternion = Quaternion.Slerp(\n                this._mesh.rotationQuaternion, toQuaternion, speed * this._scene.deltaTime);\n        }\n\n        const speedValue = 0.25;\n        const velocity = mv.clone().applyRotationQuaternion(cameraQuaternion).scale(speedValue);\n        this._mesh.physicsImpostor.friction = isMoving ? 0 : 1_000_000;\n        if (isMoving) {\n            this._mesh.physicsImpostor.setLinearVelocity(velocity);\n        }\n    }\n\n    // private _afterPhysicsStep = (impostor: PhysicsImpostor): void => {\n    //     this._mesh.physicsImpostor.setAngularVelocity(Vector3.Zero());\n    //     // console.log(`++++`);\n    // }\n    //\n    // private _onPhysicsCollide = (collider: PhysicsImpostor, collidedAgainst: PhysicsImpostor, point: Nullable<Vector3>): void => {\n    //     this._mesh.physicsImpostor.setAngularVelocity(Vector3.Zero());\n    //     console.log(`++++ collider: ${(collider.object as AbstractMesh).name}`);\n    // }\n}","import {Engine} from \"@babylonjs/core\";\nimport {Level1} from \"./level1\";\nimport {Level2} from \"./level2\";\nimport {GameScene} from \"./gameScene\";\n\nexport class SceneSwitcher {\n    private _currentScene: GameScene | null = null;\n    private _levelIndex: number = 0;\n\n    private readonly _levelBuilders: {[index: number]: () => GameScene} = {};\n\n    constructor(engine: Engine, canvas: HTMLCanvasElement) {\n        // A dictionary: [index]: <level constructor>\n        this._levelBuilders[0] = (): GameScene => {\n            return new Level1(engine, canvas);\n        };\n        this._levelBuilders[1] = (): GameScene => {\n            return new Level2(engine, canvas);\n        };\n    }\n\n    async loadFirstSceneAsync(): Promise<void> {\n        await this.currentScene?.dispose();\n        this._currentScene = null;\n\n        this._levelIndex = 0;\n\n        this._currentScene = this._levelBuilders[this._levelIndex]();\n        await this._currentScene.initializeAsync();\n    }\n\n    async loadNextSceneAsync(): Promise<void> {\n        await this.currentScene?.dispose();\n        this._currentScene = null;\n\n        this._levelIndex++;\n        if (this._levelIndex >= Object.keys(this._levelBuilders).length)\n            this._levelIndex = 0;\n\n        this._currentScene = this._levelBuilders[this._levelIndex]();\n        await this.currentScene.initializeAsync();\n    }\n\n    get currentScene(): GameScene | null {\n        return this._currentScene;\n    }\n}","import {MsgGamepad, MsgOffscreen, MsgResize, MsgToWorker} from \"./messages\";\nimport {AppInitializer} from \"./babylon/appInitializer\";\n\nconst scope = (globalThis as unknown) as DedicatedWorkerGlobalScope;\n\nconsole.log(\"%c Table Shooter Worker \", \"background: yellowgreen\");\n\nconst appInitializer = new AppInitializer();\n\nglobalThis.CANNON = require(\"cannon\");\n\nscope.onmessage = async (ev: MessageEvent<MsgToWorker>) => {\n    switch (ev.data.type) {\n        case \"offscreen\":\n            const msgOffscreen: MsgOffscreen = ev.data;\n            appInitializer.init(msgOffscreen.payload.canvas);\n            break;\n        case \"resize\":\n            const msgResize: MsgResize = ev.data;\n            appInitializer.resize(msgResize.payload.width, msgResize.payload.height);\n            break;\n        case \"loadFirstScene\":\n            await appInitializer.loadFirstSceneAsync();\n            break;\n        case \"loadNextScene\":\n            await appInitializer.loadNextSceneAsync();\n            break;\n        case \"inspector\":\n            await appInitializer.switchInspector();\n            break;\n        case \"gamepad\":\n            const msgGamepad: MsgGamepad = ev.data;\n            if (appInitializer.currentScene !== null) {\n                appInitializer.currentScene.setGamepadState(msgGamepad.payload.state);\n            }\n            break;\n    }\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// the startup function\n__webpack_require__.x = () => {\n\t// Load entry module and return exports\n\t// This entry module depends on other loaded chunks and execution need to be delayed\n\tvar __webpack_exports__ = __webpack_require__.O(undefined, [\"vendors-node_modules_cannon_build_cannon_js-node_modules_babylonjs_core_index_js-node_modules-954a49\"], () => (__webpack_require__(\"./src/worker.ts\")))\n\t__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n\treturn __webpack_exports__;\n};\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks and sibling chunks for the entrypoint\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"main-\" + \"7745da3db647cdf20ccc\" + \".js\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","// no baseURI\n\n// object to store loaded chunks\n// \"1\" means \"already loaded\"\nvar installedChunks = {\n\t\"src_worker_ts\": 1\n};\n\n// importScripts chunk loading\nvar installChunk = (data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\tfor(var moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\twhile(chunkIds.length)\n\t\tinstalledChunks[chunkIds.pop()] = 1;\n\tparentChunkLoadingFunction(data);\n};\n__webpack_require__.f.i = (chunkId, promises) => {\n\t// \"1\" is the signal for \"already loaded\"\n\tif(!installedChunks[chunkId]) {\n\t\tif(true) { // all chunks have JS\n\t\t\timportScripts(__webpack_require__.p + __webpack_require__.u(chunkId));\n\t\t}\n\t}\n};\n\nvar chunkLoadingGlobal = self[\"webpackChunkshooter\"] = self[\"webpackChunkshooter\"] || [];\nvar parentChunkLoadingFunction = chunkLoadingGlobal.push.bind(chunkLoadingGlobal);\nchunkLoadingGlobal.push = installChunk;\n\n// no HMR\n\n// no HMR manifest","var next = __webpack_require__.x;\n__webpack_require__.x = () => {\n\treturn __webpack_require__.e(\"vendors-node_modules_cannon_build_cannon_js-node_modules_babylonjs_core_index_js-node_modules-954a49\").then(next);\n};","","// run startup\nvar __webpack_exports__ = __webpack_require__.x();\n",""],"names":[],"sourceRoot":""}